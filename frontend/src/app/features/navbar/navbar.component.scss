$bg: #10141b;
$ink: #e5e7eb;
$muted: #9ca3af;
$hover: #1f2530;
$line: rgba(255, 255, 255, 0.08);
$accent: #4ade80;

// .nav {
//   position: sticky;
//   top: 0;
//   z-index: 1000;
//   display: flex;
//   align-items: center;
//   gap: 1rem;
//   padding: 0.6rem 1rem;
//   background: $bg;
//   color: $ink;
//   border-bottom: 1px solid $line;

//   .brand {
//     font-weight: 700;
//     letter-spacing: 0.3px;
//     color: $ink;
//     text-decoration: none;
//     white-space: nowrap;

//     &:hover {
//       color: $accent;
//     }
//   }

//   /* Shared menu base */
//   .menu {
//     display: flex;
//     align-items: center;
//     gap: 0.5rem;
//     list-style: none;
//     margin: 0;
//     padding: 0;

//     /* Push this list to the far right (for the user menu) */
//     &.right {
//       margin-left: auto;
//     }

//     .menu-item {
//       position: relative;

//       /* Standard menu button */
//       .menu-btn,
//       .user-btn {
//         display: inline-flex;
//         align-items: center;
//         gap: 0.35rem;
//         padding: 0.4rem 0.6rem;
//         border-radius: 0.375rem;
//         border: none;
//         background: transparent;
//         color: $ink;
//         cursor: pointer;
//         font-weight: 500;
//         line-height: 1;

//         &:hover {
//           background: $hover;
//         }

//         /* Chevron */
//         .chev {
//           opacity: 0.8;
//           transition: transform 160ms ease;
//         }

//         /* Rotate chevron when expanded (for a11y-friendly toggle) */
//         &[aria-expanded="true"] .chev {
//           transform: rotate(180deg);
//         }
//       }

//       /* Avatar & username styling when used inside .user-btn */
//       .user-btn {
//         gap: 0.45rem;
//         padding: 0.35rem 0.5rem;

//         .avatar {
//           width: 28px;
//           height: 28px;
//           border-radius: 999px;
//           object-fit: cover;
//         }

//         .username {
//           color: $ink;
//           font-weight: 500;
//         }
//       }

//       /* Dropdown (shared) */
//       .dropdown {
//         position: absolute;
//         top: calc(100% + 6px);
//         left: 0;
//         min-width: 200px;
//         background: #141924;
//         border: 1px solid $line;
//         border-radius: 0.5rem;
//         padding: 0.35rem;
//         box-shadow: 0 10px 26px rgba(0, 0, 0, 0.35);
//         z-index: 1010;

//         /* Right-aligned variant */
//         &.right {
//           right: 0;
//           left: auto;
//         }

//         li {
//           list-style: none;
//         }

//         a,
//         .link {
//           display: block;
//           width: 100%;
//           padding: 0.5rem 0.65rem;
//           border-radius: 0.375rem;
//           color: $ink;
//           text-decoration: none;
//           text-align: left;
//           background: transparent;
//           border: none;
//           cursor: pointer;

//           &:hover {
//             background: $hover;
//           }

//           &.active {
//             color: $accent;
//           }
//         }
//       }
//     }
//   }
// }

// /* Focus styles for keyboard users */
// .menu .menu-item .menu-btn:focus-visible,
// .menu .menu-item .user-btn:focus-visible {
//   outline: 2px solid $accent;
//   outline-offset: 2px;
// }

// /* Small screens: keep header compact */
// @media (max-width: 720px) {
//   .nav {
//     gap: 0.5rem;
//     padding: 0.5rem 0.75rem;
//   }

//   .nav .username {
//     display: none; /* show only avatar on mobile */
//   }

//   .nav .menu {
//     gap: 0.25rem;
//   }

//   .nav .menu .menu-item .dropdown {
//     min-width: 180px;
//   }
// }

.nav {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: $bg;
  color: $ink;
  padding: 0.6rem 1rem;
  border-bottom: 1px solid $line;

  .brand {
    font-weight: 700;
    color: $ink;
    text-decoration: none;
    &:hover {
      color: $accent;
    }
  }

  .menu {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    list-style: none;
    margin: 0;
    padding: 0;

    &.right {
      margin-left: auto; // push entire group to right
    }

    .menu-item {
      position: relative;

      .menu-btn,
      .user-btn {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        padding: 0.4rem 0.6rem;
        border-radius: 0.375rem;
        background: transparent;
        border: none;
        color: $ink;
        cursor: pointer;
        font-weight: 500;

        &:hover {
          background: $hover;
        }

        .chev {
          opacity: 0.8;
          transition: transform 0.2s ease;
        }
        &[aria-expanded="true"] .chev {
          transform: rotate(180deg);
        }
      }

      .user-btn {
        gap: 0.45rem;
        .avatar {
          width: 28px;
          height: 28px;
          border-radius: 50%;
          object-fit: cover;
        }
        .username {
          font-weight: 500;
          color: $ink;
        }
      }

      .dropdown {
        position: absolute;
        top: calc(100% + 6px);
        left: 0;
        min-width: 200px;
        background: #141924;
        border: 1px solid $line;
        border-radius: 0.5rem;
        padding: 0.35rem;
        box-shadow: 0 10px 26px rgba(0, 0, 0, 0.35);
        z-index: 1000;

        &.right {
          right: 0;
          left: auto;
        }

        li {
          list-style: none;
        }

        a,
        .link {
          display: block;
          width: 100%;
          padding: 0.5rem 0.65rem;
          border-radius: 0.375rem;
          color: $ink;
          text-decoration: none;
          text-align: left;
          background: transparent;
          border: none;
          cursor: pointer;

          &:hover {
            background: $hover;
          }
          &.active {
            color: $accent;
          }
        }
      }
    }
  }
}

@media (max-width: 720px) {
  .nav .username {
    display: none; // hide text, keep avatar
  }
}
